(function($){var checkradiosPlugin=function(element,options){var obj_main=this;var elem=$(element);var settings=$.extend({checkbox:{iconClass:'icon-checkradios-checkmark'},radio:{iconClass:'icon-checkradios-circle'},onChange:function(checked,$element,$realElement){}},options);this.form={checkbox:function($checkbox){var THIS=this;if(!$checkbox.parent().hasClass('checkradios-checkbox')){var classes=$checkbox.attr('class');if(classes===undefined){classes='';}
var $item=$checkbox.wrap('<div class="checkradios-checkbox "/>');var $holder=$item.parent();if($item.is(':checked')){THIS.checkboxEnable($item);}else{THIS.checkboxDisable($item);}
$checkbox.keypress(function(e){var key=e.keyCode;if((key<1)||(key==13)||(key==32)){$holder.click();}});$checkbox.on({focusin:function(){$holder.addClass('focus');},focusout:function(){var $this=$(this);setTimeout(function(){if(!$this.is(':focus')){$holder.removeClass('focus');}},10);}});$holder.mousedown(function(){setTimeout(function(){$checkbox.focus();},10);});$checkbox.click(function(e){e.stopPropagation();e.preventDefault();});$holder.on('click touch',function(){if($item.is(':checked')){THIS.checkboxDisable($item);settings.onChange(false,$holder,$item);}else{THIS.checkboxEnable($item);settings.onChange(true,$holder,$item);}
return false;});}},radio:function($radio){var THIS=this;if(!$radio.parent().hasClass('checkradios-radio')){var classes=$radio.attr('class');if(classes===undefined){classes='';}
var $item=$radio.wrap('<div class="checkradios-radio "/>');var $holder=$item.parent();if($item.is(':checked')){THIS.radioEnable($item);}else{THIS.radioDisable($item);}
$radio.on({focusin:function(){$holder.addClass('focus');THIS.radioEnable($item);var radio_name=$item.attr('name');var $group=$('input[name="'+radio_name+'"]');$group.each(function(){if($(this).is(':checked')){THIS.radioEnable($(this));settings.onChange(true,$(this).parent(),$(this));}else{THIS.radioDisable($(this));settings.onChange(false,$(this).parent(),$(this));}});},focusout:function(){var $this=$(this);setTimeout(function(){if(!$this.is(':focus')){$holder.removeClass('focus');}},10);}});$holder.on('click touch',function(e){e.stopPropagation();e.preventDefault();THIS.radioEnable($item);var radio_name=$item.attr('name');var $group=$('input[name="'+radio_name+'"]');$group.each(function(){if($(this).is(':checked')){THIS.radioEnable($(this));settings.onChange(true,$(this).parent(),$(this));}else{THIS.radioDisable($(this));settings.onChange(false,$(this).parent(),$(this));}});});}},checkboxEnable:function($checkbox){$checkbox.parent().removeClass(settings.checkbox.iconClass);$checkbox.parent().removeClass('unchecked');$checkbox.parent().addClass(settings.checkbox.iconClass);$checkbox.parent().addClass('checked');$checkbox.prop('checked',true).trigger('chkrdochange');},checkboxDisable:function($checkbox){$checkbox.parent().removeClass('checked');$checkbox.parent().removeClass(settings.checkbox.iconClass);$checkbox.parent().addClass('unchecked');$checkbox.prop('checked',false).trigger('chkrdochange');},radioEnable:function($radio){$radio.parent().removeClass(settings.radio.iconClass);$radio.parent().removeClass('unchecked');$radio.parent().addClass(settings.radio.iconClass);$radio.parent().addClass('checked');$radio.prop('checked',true).trigger('chkrdochange');},radioDisable:function($radio){$radio.parent().removeClass('checked');$radio.parent().removeClass(settings.radio.iconClass);$radio.parent().addClass('unchecked');$radio.prop('checked',false).trigger('chkrdochange');}};var init=function(){var $elements=elem;$elements.each(function(i,val){var $this=$(this);if($this.is("input[type=checkbox]")){obj_main.form.checkbox($this);}
if($this.is("input[type=radio]")){obj_main.form.radio($this);}
return this;});}
init();};$.fn.checkradios=function(options){return this.each(function(){var element=$(this);if(element.data('checkradios'))return;var myplugin=new checkradiosPlugin(this,options);element.data('checkradios',myplugin);});};}($uifm));